CodeMirror.defineMode("xml",function(e,t){function u(e,t){function n(n){t.tokenize=n;return n(e,t)}var r=e.next();if(r=="<"){if(e.eat("!")){if(e.eat("[")){if(e.match("CDATA["))return n(l("atom","]]>"));else return null}else if(e.match("--"))return n(l("comment","-->"));else if(e.match("DOCTYPE",true,true)){e.eatWhile(/[\w\._\-]/);return n(c(1))}else return null}else if(e.eat("?")){e.eatWhile(/[\w\._\-]/);t.tokenize=l("meta","?>");return"meta"}else{var i=e.eat("/");s="";var u;while(u=e.eat(/[^\s\u00a0=<>\"\'\/?]/))s+=u;if(!s)return"error";o=i?"closeTag":"openTag";t.tokenize=a;return"tag"}}else if(r=="&"){var f;if(e.eat("#")){if(e.eat("x")){f=e.eatWhile(/[a-fA-F\d]/)&&e.eat(";")}else{f=e.eatWhile(/[\d]/)&&e.eat(";")}}else{f=e.eatWhile(/[\w\.\-:]/)&&e.eat(";")}return f?"atom":"error"}else{e.eatWhile(/[^&<]/);return null}}function a(e,t){var n=e.next();if(n==">"||n=="/"&&e.eat(">")){t.tokenize=u;o=n==">"?"endTag":"selfcloseTag";return"tag"}else if(n=="="){o="equals";return null}else if(/[\'\"]/.test(n)){t.tokenize=f(n);return t.tokenize(e,t)}else{e.eatWhile(/[^\s\u00a0=<>\"\']/);return"word"}}function f(e){return function(t,n){while(!t.eol()){if(t.next()==e){n.tokenize=a;break}}return"string"}}function l(e,t){return function(n,r){while(!n.eol()){if(n.match(t)){r.tokenize=u;break}n.next()}return e}}function c(e){return function(t,n){var r;while((r=t.next())!=null){if(r=="<"){n.tokenize=c(e+1);return n.tokenize(t,n)}else if(r==">"){if(e==1){n.tokenize=u;break}else{n.tokenize=c(e-1);return n.tokenize(t,n)}}}return"meta"}}function d(){for(var e=arguments.length-1;e>=0;e--)h.cc.push(arguments[e])}function v(){d.apply(null,arguments);return true}function m(e,t){var n=r.doNotIndent.hasOwnProperty(e)||h.context&&h.context.noIndent;h.context={prev:h.context,tagName:e,indent:h.indented,startOfLine:t,noIndent:n}}function g(){if(h.context)h.context=h.context.prev}function y(e){if(e=="openTag"){h.tagName=s;return v(S,b(h.startOfLine))}else if(e=="closeTag"){var t=false;if(h.context){if(h.context.tagName!=s){if(r.implicitlyClosed.hasOwnProperty(h.context.tagName.toLowerCase())){g()}t=!h.context||h.context.tagName!=s}}else{t=true}if(t)p="error";return v(w(t))}return v()}function b(e){return function(t){if(t=="selfcloseTag"||t=="endTag"&&r.autoSelfClosers.hasOwnProperty(h.tagName.toLowerCase())){E(h.tagName.toLowerCase());return v()}if(t=="endTag"){E(h.tagName.toLowerCase());m(h.tagName,e);return v()}return v()}}function w(e){return function(t){if(e)p="error";if(t=="endTag"){g();return v()}p="error";return v(arguments.callee)}}function E(e){var t;while(true){if(!h.context){return}t=h.context.tagName.toLowerCase();if(!r.contextGrabbers.hasOwnProperty(t)||!r.contextGrabbers[t].hasOwnProperty(e)){return}g()}}function S(e){if(e=="word"){p="attribute";return v(x,S)}if(e=="endTag"||e=="selfcloseTag")return d();p="error";return v(S)}function x(e){if(e=="equals")return v(T,S);if(!r.allowMissing)p="error";else if(e=="word")p="attribute";return e=="endTag"||e=="selfcloseTag"?d():v()}function T(e){if(e=="string")return v(N);if(e=="word"&&r.allowUnquoted){p="string";return v()}p="error";return e=="endTag"||e=="selfCloseTag"?d():v()}function N(e){if(e=="string")return v(N);else return d()}var n=e.indentUnit;var r=t.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false};var i=t.alignCDATA;var s,o;var h,p;return{startState:function(){return{tokenize:u,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(e,t){if(e.sol()){t.startOfLine=true;t.indented=e.indentation()}if(e.eatSpace())return null;p=o=s=null;var n=t.tokenize(e,t);t.type=o;if((n||o)&&n!="comment"){h=t;while(true){var r=t.cc.pop()||y;if(r(o||n))break}}t.startOfLine=false;return p||n},indent:function(e,t,r){var s=e.context;if(e.tokenize!=a&&e.tokenize!=u||s&&s.noIndent)return r?r.match(/^(\s*)/)[0].length:0;if(i&&/<!\[CDATA\[/.test(t))return 0;if(s&&/^<\//.test(t))s=s.prev;while(s&&!s.startOfLine)s=s.prev;if(s)return s.indent+n;else return 0},electricChars:"/",configuration:t.htmlMode?"html":"xml"}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html"))CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});(function(){function e(e){var t=[/for\s*?\((.*?)\)/,/\"(.*?)(\"|$)/,/\'(.*?)(\'|$)/,/\/\*(.*?)(\*\/|$)/,/\/\/.*/];var n=[];for(var r=0;r<t.length;r++){var i=0;while(i<e.length){var s=e.substr(i).match(t[r]);if(s!=null){n.push({start:i+s.index,end:i+s.index+s[0].length});i+=s.index+Math.max(1,s[0].length)}else{break}}}n.sort(function(e,t){return e.start-t.start});return n}function t(e,t){return CodeMirror.innerMode(e.getMode(),e.getTokenAt(t).state).mode}function n(e,t,n,r){var i=e.getMode(),s=e.getLine(t);if(r==null)r=s.length;if(!i.innerMode)return[{from:n,to:r,mode:i}];var o=e.getTokenAt({line:t,ch:n}).state;var u=CodeMirror.innerMode(i,o).mode;var a=[],f=new CodeMirror.StringStream(s);f.pos=f.start=n;for(;;){i.token(f,o);var l=CodeMirror.innerMode(i,o).mode;if(l!=u){var c=f.start;if(u.name=="xml"&&s.charAt(f.pos-1)==">")c=f.pos;a.push({from:n,to:c,mode:u});n=c;u=l}if(f.pos>=r)break;f.start=f.pos}if(n<r)a.push({from:n,to:r,mode:u});return a}CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",wordWrapChars:[";","\\{","\\}"],autoFormatLineBreaks:function(e){return e.replace(new RegExp("(;|\\{|\\})([^\r\n])","g"),"$1\n$2")}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",wordWrapChars:[";","\\{","\\}"],autoFormatLineBreaks:function(t){var n=0;var r=/(;|\{|\})([^\r\n;])/g;var i=e(t);if(i!=null){var s="";for(var o=0;o<i.length;o++){if(i[o].start>n){s+=t.substring(n,i[o].start).replace(r,"$1\n$2");n=i[o].start}if(i[o].start<=n&&i[o].end>=n){s+=t.substring(n,i[o].end);n=i[o].end}}if(n<t.length)s+=t.substr(n).replace(r,"$1\n$2");return s}else{return t.replace(r,"$1\n$2")}}});CodeMirror.modeExtensions["xml"]={commentStart:"<!--",commentEnd:"-->",wordWrapChars:[">"],autoFormatLineBreaks:function(e){var t=e.split("\n");var n=new RegExp("(^\\s*?<|^[^<]*?)(.+)(>\\s*?$|[^>]*?$)");var r=new RegExp("(>)\\s*(<)","g");for(var i=0;i<t.length;i++){var s=t[i].match(n);if(s!=null&&s.length>3){t[i]=s[1]+s[2].replace(r,"$1\n$2")+s[3];continue}}return t.join("\n")}};CodeMirror.defineExtension("commentRange",function(e,n,r){var i=t(this,n),s=this;this.operation(function(){if(e){s.replaceRange(i.commentEnd,r);s.replaceRange(i.commentStart,n);if(n.line==r.line&&n.ch==r.ch)s.setCursor(n.line,n.ch+i.commentStart.length)}else{var t=s.getRange(n,r);var o=t.indexOf(i.commentStart);var u=t.lastIndexOf(i.commentEnd);if(o>-1&&u>-1&&u>o){t=t.substr(0,o)+t.substring(o+i.commentStart.length,u)+t.substr(u+i.commentEnd.length)}s.replaceRange(t,n,r)}})});CodeMirror.defineExtension("autoIndentRange",function(e,t){var n=this;this.operation(function(){for(var r=e.line;r<=t.line;r++){n.indentLine(r,"smart")}})});CodeMirror.defineExtension("autoFormatRange",function(e,t){var r=this;r.operation(function(){for(var i=e.line,s=t.line;i<=s;++i){var o={line:i,ch:i==e.line?e.ch:0};var u={line:i,ch:i==s?t.ch:null};var a=n(r,i,o.ch,u.ch),f="";var l=r.getRange(o,u);for(var c=0;c<a.length;++c){var h=a.length>1?l.slice(a[c].from,a[c].to):l;if(f)f+="\n";if(a[c].mode.autoFormatLineBreaks){f+=a[c].mode.autoFormatLineBreaks(h)}else f+=l}if(f!=l){for(var p=0,d=f.indexOf("\n");d!=-1;d=f.indexOf("\n",d+1),++p){}r.replaceRange(f,o,u);i+=p;s+=p}}for(var i=e.line+1;i<=s;++i)r.indentLine(i,"smart");r.setSelection(e,r.getCursor(false))})})})();CodeMirror.defineMode("javascript",function(e,t){function a(e,t,n){t.tokenize=n;return n(e,t)}function f(e,t){var n=false,r;while((r=e.next())!=null){if(r==t&&!n)return false;n=!n&&r=="\\"}return n}function h(e,t,n){l=e;c=n;return t}function p(e,t){var n=e.next();if(n=='"'||n=="'")return a(e,t,d(n));else if(n=="."&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return h("number","number");else if(/[\[\]{}\(\),;\:\.]/.test(n))return h(n);else if(n=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return h("number","number")}else if(/\d/.test(n)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return h("number","number")}else if(n=="/"){if(e.eat("*")){return a(e,t,v)}else if(e.eat("/")){e.skipToEnd();return h("comment","comment")}else if(t.lastType=="operator"||t.lastType=="keyword c"||/^[\[{}\(,;:]$/.test(t.lastType)){f(e,"/");e.eatWhile(/[gimy]/);return h("regexp","string-2")}else{e.eatWhile(u);return h("operator",null,e.current())}}else if(n=="#"){e.skipToEnd();return h("error","error")}else if(u.test(n)){e.eatWhile(u);return h("operator",null,e.current())}else{e.eatWhile(/[\w\$_]/);var r=e.current(),i=o.propertyIsEnumerable(r)&&o[r];return i&&t.lastType!="."?h(i.type,i.style,r):h("variable","variable",r)}}function d(e){return function(t,n){if(!f(t,e))n.tokenize=p;return h("string","string")}}function v(e,t){var n=false,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=p;break}n=r=="*"}return h("comment","comment")}function g(e,t,n,r,i,s){this.indented=e;this.column=t;this.type=n;this.prev=i;this.info=s;if(r!=null)this.align=r}function y(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return true}function b(e,t,n,r,s){var o=e.cc;w.state=e;w.stream=s;w.marked=null,w.cc=o;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var u=o.length?o.pop():i?M:O;if(u(n,r)){while(o.length&&o[o.length-1].lex)o.pop()();if(w.marked)return w.marked;if(n=="variable"&&y(e,r))return"variable-2";return t}}}function E(){for(var e=arguments.length-1;e>=0;e--)w.cc.push(arguments[e])}function S(){E.apply(null,arguments);return true}function x(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return true;return false}var n=w.state;if(n.context){w.marked="def";if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;n.globalVars={name:e,next:n.globalVars}}}function N(){w.state.context={prev:w.state.context,vars:w.state.localVars};w.state.localVars=T}function C(){w.state.localVars=w.state.context.vars;w.state.context=w.state.context.prev}function k(e,t){var n=function(){var n=w.state,r=n.indented;if(n.lexical.type=="stat")r=n.lexical.indented;n.lexical=new g(r,w.stream.column(),e,null,n.lexical,t)};n.lex=true;return n}function L(){var e=w.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}function A(e){return function(t){if(t==e)return S();else if(e==";")return E();else return S(arguments.callee)}}function O(e){if(e=="var")return S(k("vardef"),V,A(";"),L);if(e=="keyword a")return S(k("form"),M,O,L);if(e=="keyword b")return S(k("form"),O,L);if(e=="{")return S(k("}"),z,L);if(e==";")return S();if(e=="if")return S(k("form"),M,O,L,J);if(e=="function")return S(Z);if(e=="for")return S(k("form"),A("("),k(")"),K,A(")"),L,O,L);if(e=="variable")return S(k("stat"),F);if(e=="switch")return S(k("form"),M,k("}","switch"),A("{"),z,L,L);if(e=="case")return S(M,A(":"));if(e=="default")return S(A(":"));if(e=="catch")return S(k("form"),N,A("("),et,A(")"),O,L,C);return E(k("stat"),M,A(";"),L)}function M(e){return D(e,false)}function _(e){return D(e,true)}function D(e,t){var n=t?j:B;if(m.hasOwnProperty(e))return S(n);if(e=="function")return S(Z);if(e=="keyword c")return S(t?H:P);if(e=="(")return S(k(")"),P,A(")"),L,n);if(e=="operator")return S(t?_:M);if(e=="[")return S(k("]"),U(_,"]"),L,n);if(e=="{")return S(k("}"),U(q,"}"),L,n);return S()}function P(e){if(e.match(/[;\}\)\],]/))return E();return E(M)}function H(e){if(e.match(/[;\}\)\],]/))return E();return E(_)}function B(e,t){if(e==",")return S(M);return j(e,t,false)}function j(e,t,n){var r=n==false?B:j;var i=n==false?M:_;if(e=="operator"){if(/\+\+|--/.test(t))return S(r);if(t=="?")return S(M,A(":"),i);return S(i)}if(e==";")return;if(e=="(")return S(k(")","call"),U(_,")"),L,r);if(e==".")return S(I,r);if(e=="[")return S(k("]"),P,A("]"),L,r)}function F(e){if(e==":")return S(L,O);return E(B,A(";"),L)}function I(e){if(e=="variable"){w.marked="property";return S()}}function q(e,t){if(e=="variable"){w.marked="property";if(t=="get"||t=="set")return S(R)}else if(e=="number"||e=="string"){w.marked=e+" property"}if(m.hasOwnProperty(e))return S(A(":"),_)}function R(e){if(e==":")return S(M);if(e!="variable")return S(A(":"),M);w.marked="property";return S(Z)}function U(e,t){function n(r){if(r==","){var i=w.state.lexical;if(i.info=="call")i.pos=(i.pos||0)+1;return S(e,n)}if(r==t)return S();return S(A(t))}return function(r){if(r==t)return S();else return E(e,n)}}function z(e){if(e=="}")return S();return E(O,z)}function W(e){if(e==":")return S(X);return E()}function X(e){if(e=="variable"){w.marked="variable-3";return S()}return E()}function V(e,t){if(e=="variable"){x(t);return s?S(W,$):S($)}return E()}function $(e,t){if(t=="=")return S(_,$);if(e==",")return S(V)}function J(e,t){if(e=="keyword b"&&t=="else")return S(k("form"),O,L)}function K(e){if(e=="var")return S(V,A(";"),G);if(e==";")return S(G);if(e=="variable")return S(Q);return E(M,A(";"),G)}function Q(e,t){if(t=="in")return S(M);return S(B,G)}function G(e,t){if(e==";")return S(Y);if(t=="in")return S(M);return E(M,A(";"),Y)}function Y(e){if(e!=")")S(M)}function Z(e,t){if(e=="variable"){x(t);return S(Z)}if(e=="(")return S(k(")"),N,U(et,")"),L,O,C)}function et(e,t){if(e=="variable"){x(t);return s?S(W):S()}}var n=e.indentUnit;var r=t.statementIndent;var i=t.json;var s=t.typescript;var o=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c");var i=e("operator"),o={type:"atom",style:"atom"};var u={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,"undefined":o,NaN:o,Infinity:o,"this":e("this")};if(s){var a={type:"variable",style:"variable-3"};var f={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:a,number:a,bool:a,any:a};for(var l in f){u[l]=f[l]}}return u}();var u=/[+\-*&%=<>!?|~^]/;var l,c;var m={atom:true,number:true,variable:true,string:true,regexp:true,"this":true};var w={state:null,column:null,marked:null,cc:null};var T={name:"this",next:{name:"arguments"}};L.lex=true;return{startState:function(e){return{tokenize:p,lastType:null,cc:[],lexical:new g((e||0)-n,0,"block",false),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()){if(!t.lexical.hasOwnProperty("align"))t.lexical.align=false;t.indented=e.indentation()}if(t.tokenize!=v&&e.eatSpace())return null;var n=t.tokenize(e,t);if(l=="comment")return n;t.lastType=l=="operator"&&(c=="++"||c=="--")?"incdec":l;return b(t,n,l,c,e)},indent:function(e,i){if(e.tokenize==v)return CodeMirror.Pass;if(e.tokenize!=p)return 0;var s=i&&i.charAt(0),o=e.lexical;for(var u=e.cc.length-1;u>=0;--u){var a=e.cc[u];if(a==L)o=o.prev;else if(a!=J||/^else\b/.test(i))break}if(o.type=="stat"&&s=="}")o=o.prev;if(r&&o.type==")"&&o.prev.type=="stat")o=o.prev;var f=o.type,l=s==f;if(f=="vardef")return o.indented+(e.lastType=="operator"||e.lastType==","?4:0);else if(f=="form"&&s=="{")return o.indented;else if(f=="form")return o.indented+n;else if(f=="stat")return o.indented+(e.lastType=="operator"||e.lastType==","?r||n:0);else if(o.info=="switch"&&!l&&t.doubleIndentSwitch!=false)return o.indented+(/^(?:case|default)\b/.test(i)?n:2*n);else if(o.align)return o.column+(l?0:1);else return o.indented+(l?0:n)},electricChars:":{}",blockCommentStart:i?null:"/*",blockCommentEnd:i?null:"*/",lineComment:i?null:"//",fold:"brace",helperType:i?"json":"javascript",jsonMode:i}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:true});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true})