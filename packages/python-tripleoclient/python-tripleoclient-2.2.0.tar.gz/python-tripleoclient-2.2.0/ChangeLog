CHANGES
=======

2.2.0
-----

* Updated from global requirements
* Fix mitaka unit tests

2.1.0
-----

* Fix unbracket_ipv6(
* Use non-bracketed version of addresses for keystone.initialize
* Generate CephX keys and FSID regardless of CephStorageCount
* Run post deploy config on force
* Show correct missing files when an error occurs
* Document --initial-state param on baremetal import
* Allow 'openstack baremetal configure boot' to guess the root device
* Updated from global requirements
* Generate a password for the Mysql 'clustercheck' user
* Unset UpdateIdentifier on deploy/scale, pass in StackAction
* Use values from endpoint map for service endpoints
* Generate ceph client key
* Set defaultbranch for git-review to stable/mitaka
* Add gnocchi password as a deployment param
* Don't configure Nova v3 service
* Remove centos-cloud-repo element from image building

2.0.0
-----

* Fix path to rhel registration environment
* Switch to using node utilities from tripleo-common
* Pass parameter names from parameter_defaults to clear_parameters
* Fix no_proxy list generation for overcloudrc
* Aodh integration to tripleoclient
* Upgrades: Add initialization stage to 'overcloud upgrade'
* Upgrades: Add finish stage to 'overcloud upgrade'
* Upgrades: Add 'stack upgrade' command
* Add a restart of openstack-nova-api after upgrading undercloud
* Add password for HAProxy stats
* Remove the demo flavour creation
* Pass RabbitMQ's password from the client
* Generate a password for Redis and pass it as deployment parameter
* Allow node import via yaml not only csv/json
* Forcibly clear parameters now passed as parameter_defaults
* Remove keystone init deprecation message
* Add 'undercloud upgrade' command
* Fix ironic-inspector client usage
* Refresh node power state at start of loop
* Check Keystone init before running it
* Replace python-hardware with smaller python-hardware-detect
* Remove the extra space in the event_log_formatter
* Don't warn about missing profiles when they're not used
* Fix collect_flavors to account for the same flavor for several roles
* Don't regenerate the overcloud passwords if the Heat stack exists
* Remove tripleoclient.baremetal wrapper
* Simplify checking for stack complete
* Wrap around list of events
* Install bigswitch networking agent by default
* More tests for overcloud deploy

1.0.0
-----

* Remove ntp element from overcloud images
* Sahara integration
* Apply --min-tmpfs 5 to agent ramdisk build too
* Add support for an answers file
* Revert "Pass environment variables of proxy to tox"
* Ignore ssl warnings from requests
* Fix db error when running python34 unit tests
* Install python-hardware package on the agent image by default
* Use the grub2 element instead of grub2-deprecated
* Updated from global requirements
* Allow assigning profiles based on XXX_profile capabilities
* Don't build images with rdo-release by default
* Support new ironic "enroll" state
* Add --dry-run argument to overcloud deploy command
* Improve test_environment_dirs verifylist check
* Adding a test to exercise the command
* Control envs via TRIPLEO_ENVIRONMENT_DIRECTORY
* Add overcloud deploy --environment-directory
* Use renamed overcloud.yaml template
* Add dynamic-login element to the image creation
* Drop py33 support
* We do not need to pass a NeutronControlPlaneID
* Make the undercloud install test discoverable
* Removes MANIFEST.in as it is not needed explicitely by PBR
* Pass environment variables of proxy to tox
* Enable TLS endpoints through os-cloud-config
* Set NeutronMetadataProxySharedSecret
* image build: add --builder-extra-args
* Fail the introspection command if introspection has failed
* Increase test coverage for utils and plugin
* Passes to os-cloud-config Keystone{Admin,Internal}Vip
* Deprecate bash ramdisks
* Log all resource events during overcloud deploy
* Generate a unique DeployIdentifier on updates
* Do not try to introspect nodes in maintenance mode and associated ones
* Don't raise bare Exceptions
* Require tunnel ranges if network type is VLAN
* Do not throw an error on validation when tunneling is disabled
* Remove parameter defaults
* Turn the baremetal client reference into a property
* Install bigswitch networking plugin by default
* Include registry on update when other envs are specified
* Disable command run under root user
* Don't log exceptions redundantly
* Fix chicken and eggs problem with tripleo-heat-templates
* Allow adding new overcloud passwords
* Don't parse redhat-release for distro info
* Move more functions to utils.py
* Consolidate module constants
* Install device-mapper-multipath on overcloud-full
* Don't download fedora-user as part of --all build
* Set --min-tmpfs for overcloud-full build
* Explicitly unset package update hooks when re-deploying
* Turn the orchestration client reference into a property
* Also disallow tunnel types without network type
* Improve Coverage for tripleoclient/utils.py
* Change RHEL subscription template path
* Move common functions out into utils.py
* Handle images not being found
* Update requirements
* fix cisco networking rpm name
* Skip validation on nodes in maintenance mode
* Exit with an error if an image fails to build
* Make ssh user configurable
* Remove unused cli arguments from overcloud deploy
* Add debug environment to tox
* Fix file checksum function in for python 3.4
* Replace generate password for alternative in passlib
* Make cover environment in tox display test coverage
* Remove Tuskar support
* Remove rhos-release support
* Don't use delorean-rdo-management element
* Build IPA in place of discoverd ramdisk
* image build: add ImageBuilder.build_ramdisk_agent
* image build: prepare for different generation methods
* Use parameter_defaults everywhere
* Fix heat_stack_owner variable
* Actually call _validate_args to check for network types mismatch
* Don't send default environment file on stack update
* Add support for building ironic-python-agent ramdisk
* Change ignore-errors to ignore_errors
* Refactor for discoverd rename to inspector
* Set the number for DhcpAgentsPerNetwork to controllers num or 3
* Fix checking of available nodes
* Add image name option to bm boot config
* Use parameter_defaults instead of parameters
* Remove Debug parameter from overcloud deploy
* Stop false positive validation warning
* Cleanup some strangling references to rdomanager-oscplugin
* Don't log from _get_stack
* Fix unit tests on non-Red Hat distros
* image build: separate the envvars for dib
* DIB includes the "in-tree" elements by default
* Rename rdomanager_oscplugin to tripleoclient
* Update .gitreview to point to review.openstack.org

0.0.10
------

* Install cisco networking packages
* Check available nodes count before deployment
* Fix pre-deployment hypervisor check
* Validate flavors and deploy images during `overcloud deploy`
* Assert that network type is in tunnel types
* Change libvirt default to kvm
* Passing in the path to known_hosts explicity
* Generate partial tempest configuration during post-deploy
* Add a show capabilities command to view the capabilities of nodes
* Add passenv to the venv to allow passing of environment variables from stackrc
* Use KeystoneAdminVip to obtain the keystone_ip

0.0.9
-----

* rhbz#1243015 - Do not hard-code overcloud name
* Print output for overcloud image upload
* Overcloud image upload update images
* Add command option descriptions
* When a stack Create/Update fails, output the status_reason
* Require --ntp-server for HA deployments
* Remove nodes.json update from overcloud deploy
* Require plan or templates arg on update stack
* rhbz#1247722 - Report that discovery completed with errors
* Remove Python 2.6 from the tox config
* Add a command to validate network-environment.yaml
* Add a command to validate instackenv.json
* Introspect only the nodes that are in manageable state
* Revert "Separate private and public endpoints for keystone"
* Expose the --neutron-tunnel-id-ranges --neutron-vni-ranges options
* Revert "Enable Manila Service"
* Settings change needed for ci tests
* Fix the deploy tests
* Don't assume storage backend choices even when using Ceph
* Don't set storage params when not deploying Ceph
* rhbz#1241199 - Make configure boot safe to run multiple times
* Adding some tests for the parameter saving
* Fix tempest tenant_network_cidr and stack_owner_role
* Add network-id option to overcloud validate
* rhbz#1244913 - Ensure scaling params are reset
* Fix RHEL registration regression
* Do not configure and EC2 endpoint by default
* Separate private and public endpoints for keystone
* rhbz#1244810 - Skip parameters that do not make sense for scaling
* Enable Manila Service
* Add ntp element to overcloud-full images
* Add --timeout to provide an optional timeout to Heat
* rhbz#1236136 - Pass the public_host option when setting up endpoints
* rhbz#1236136 - Ensure horizon endpoint data is complete
* Check both THT and Tuskar parmaters for the number of controllers
* Fix swift operator value name
* rhbz#1243274 - Enable Ceph as a Glance Backend when using THT
* Allow passing extra env files to "overcloud node delete" command
* Allow running "overcloud node delete" with heat templates directly
* Allow passing extra env files to package update command
* Allow running package update with heat templates directly
* Wires up NeutronDhcpAgentsPerNetwork parameter to deploy
* Remove the redundtant --plan-uuid
* Remove the redundant --use-tripleo-heat-templates
* Add missing re import
* Align -e option with heatclient
* BZ #1241583: Remove network configuration from post config
* Consolodate --use-t-h-t and --template-root into --templates
* Use a released version of ironic_discoverd
* Configure service endpoints individually
* Add --template-root option to allow loading t-h-t from custom locations
* Restrict the Mock version for Python 2.6 compatability
* Add deployer-input option to overcloud validate
* BZ #1241271 Honor a no_proxy setting for overcloud postdeploy
* Set nodes to AVAILABLE after discovery finishes
* Updating overcloud should reuse heat parameters
* Fixes post-deployment init
* Add sos to overcloud-full image
* Add a CLI arg to expose NeutronMechanismDrivers in the deploy command
* BZ #1235314: --floating-id-cidr should be --floating-ip-cidr
* Increase the sleep time while trying to get neutron l3 agents
* Add skipfile options to openstack validate cli refacto format string
* Add --external-net-segementation-id to deploy
* Revert "Use the python implementation of instack-install-undercloud"
* Pass HeatStackDomainAdminPassword through to heat
* Add plotnetcfg to Overcloud image builds
* Check at least 2 l3 agents before trying to initialize neutron
* Revert "Add sosreport element to overcloud images."
* Ensure that all parameters are strings when passed to Tuskar
* Adds sleep before calling post deploy config of Neutron
* Add RHEL registration to the CLI
* Skip nodes under maintenance on baremetal boot config
* Support os_cacert
* Save parameters that are generated on deployment
* Default VLAN range only gives 1 tenant network
* Use selinux=enforcing for Overlcoud image builds
* NeutronNetworkVLANRanges must be a range
* Don't unconditionally disable RHOS
* Better error message if you forget the plan parameter
* Introduce sleep between sending nodes to introspection (bz #1234343)
* Fix pep8
* Add tools/run-tests.sh instead of run_tempest.sh
* Fixing the deployments of named plans
* Add sosreport element to overcloud images
* BZ #1235314: --floating-id-cidr should be --floating-ip-cidr
* Pass extra heat templates like heatclient
* Add heat parameters for CLI args when deploying t-h-t
* BZ #1233956: Add support for cinder v2 api
* Fix the UUID attribute name
* Don't allow users to specify both a plan and T-H-T
* Make scale parameters optional
* Moving stack parameter defaults to undercloud create
* Move postconfig to deploy command
* Support getting the Tuskar plan by name or UUID when deploying
* Remove the `openstack overcloud scale stack` command
* Add baremetal configure ready state command
* Increase the default timeout for a deploy to 60 mins

0.0.8
-----

* Wire in control over neutron ovs tunnels
* Use the python implementation of instack-install-undercloud

0.0.7
-----

* Remove autospec=True
* Configure boot fails when image names are not unique
* Deprecate local grub2 element
* Print the overcloud endpoint at the end if deploying
* Add overcloud validate command
* Fix default value of Cinder ISCSI backend
* Add overcloud deploy post config and add network initialization
* Fix assert_called_once_with assertions
* Pass NeutronAllowL3AgentFailover when use_tht
* Add ability to assign roles to flavors
* Write the passwords to tripleo-overcloud-passwords
* Use uuid4 instead of uuid1 as a base for passwords
* Only show the error if it isn't None
* Add proper Heat parameters when doing a tuskar-based install
* Assume the v2 Keystone client
* Update to let corosync use hostnames on image build
* Rename command overcloud image create to upload
* Use the correct envvar name for RHOS release
* Add the Node UUID's that are being introspected
* Add an option to pull in extra configuration via heat
* Utilize environment variables properly
* Minor update of scale command
* Update image create to be in sync with latest from instack-undercloud
* Update image build to be in sync with latest from instack-undercloud
* Integrate Tuskar into openstack overcloud deploy
* Add overcloud update command
* Fix argument error in overcloud_deploy._heat_deploy
* Rename the "all" commands to "bulk"
* Remove some extra debug code
* Add overcloud node delete command
* Implement setup_endpoints needed by overcloud deploy
* Overcloud Deploy Command
* Define Tripleo Heat Template parameters
* Rename overcloud deploy command
* Add a utility to remove SSH keys from the known_hosts file
* The baremetal client will return None if the node isn't found
* Add a utility function for reading Hiera keys
* Refactor setting node state into utils
* Add a ulility to create an environment file
* Add a docstring for wait_for_provision_state
* Better command description

0.0.6
-----

* Update metadata for upload to pypi
* Implementation of overcloud image build
* Wait for discoverd
* Add missing requirement
* Remove cliff-tablib as a dependency
* Use check_call
* Changing the way jenkins is being called
* Scale out overcloud
* Add man-type documentation pages for rdo-manager commands
* Don't try to update a node in power transition
* Revert "Scale out overcloud"
* Scale out overcloud
* Add overcloud image create method
* Implement wait_for_stack_ready
* Conform to new API_VERSIONS requirement from OSC
* Always set the provision state to Manage before discovery
* Add check_hypervisor_stats
* Configure boot for all Ironic nodes
* Fix pep8 line length failure
* Add utility method for generating passwords for the undercloud
* Look for a "nodes" key in the nodes JSON and use that if it exists
* Fix heat client connection
* Fix a typo - instace vs instance
* Add initial Overcloud Deploy command
* Add configuration for running unittests in jenkins with khaleesi
* Fix doc problems so build of docs succeeds
* Add initialisation of the Orchestration client
* Add the openstack baremetal introspection all status command
* Implementation of the Baremental introspection all start command
* Implementation of the Baremental import command
* Correct a typo - rdomanger -> rdomanager
* Fix pbr info
* Stub out the overcloud image commands
* Redo layout of undercloud module namespace
* Remove instack dependencies
* Modify main package metadata
* Enable undercloud plugin command test
* Add the Python 3.4 classifier
* Fix PEP8 Errors
* Fix PEP8 Errors
* Implement undercloud install
* Initial commit
