define service {
  service_description             os_linux_default_plugin_rollout
  _SSHUSER                        mon

  _SSHPATHPREFIX                  .

  _SSHPORT                        22

  host_name                       test_host_3
  use                             os_linux_default
  normal_check_interval           240
  retry_check_interval            10
  max_check_attempts              2
  check_command                   plugin_rollout_linux
  _WORKER                         local
}

define service {
  service_description             os_linux_default_linux_version
  _SSHUSER                        mon

  _SSHPATHPREFIX                  .

  _SSHPORT                        22

  host_name                       test_host_3
  use                             os_linux_default
  normal_check_interval           240
  retry_check_interval            240
  max_check_attempts              1
  check_command                   check_by_ssh!60!( ( grep -sh PRETTY_NAME /etc/*release || head -1 /etc/SuSE-release ) || cat /etc/redhat-release ) && uname -a
}

define service {
  service_description             os_linux_default_ssh_controlmaster
  _SSHUSER                        mon

  _SSHPATHPREFIX                  .

  _SSHPORT                        22

  host_name                       test_host_3
  use                             os_linux_default
  check_command                   check_ssh_controlmaster
}

define service {
  service_description             os_linux_default_check_load
  _SSHUSER                        mon

  _SSHPATHPREFIX                  .

  _SSHPORT                        22

  host_name                       test_host_3
  use                             os_linux_default,srv-perf
  check_command                   check_by_ssh!60!$_HOSTSSHPATHPREFIX$/lib/nagios/plugins/check_load -w 5.0,5.0,5.0 -c 10.0,10.0,10.0 --percpu
}


define service {
  service_description             os_linux_default_check_swap
  _SSHUSER                        mon

  _SSHPATHPREFIX                  .

  _SSHPORT                        22

  host_name                       test_host_3
  use                             os_linux_default,srv-perf
  check_command                   check_by_ssh!60!$_HOSTSSHPATHPREFIX$/lib/nagios/plugins/check_swap -w 15% -c 8%
}

define service {
  service_description             os_linux_default_check_zombies
  _SSHUSER                        mon

  _SSHPATHPREFIX                  .

  _SSHPORT                        22

  host_name                       test_host_3
  use                             os_linux_default,srv-perf
  check_interval                  60
  retry_interval                  10
  check_command                   check_by_ssh!60!$_HOSTSSHPATHPREFIX$/lib/nagios/plugins/check_procs -s Z -w 1 -c 1
}

define service {
  service_description             os_linux_default_check_process_cron
  _SSHUSER                        mon

  _SSHPATHPREFIX                  .

  _SSHPORT                        22

  use                             os_linux_default
  host_name                       test_host_3
  check_command                   check_by_ssh!60!$_HOSTSSHPATHPREFIX$/lib/nagios/plugins/check_procs -w :10 -c 1: --ereg-argument-array='^/usr/sbin/cron|^crond|^cron'
}

define service {
  service_description             os_linux_default_check_process_syslog
  _SSHUSER                        mon

  _SSHPATHPREFIX                  .

  _SSHPORT                        22

  use                             os_linux_default
  host_name                       test_host_3
  check_command                   check_by_ssh!60!$_HOSTSSHPATHPREFIX$/lib/nagios/plugins/check_procs -w :10 -c 1: --ereg-argument-array='^/usr/sbin/rsyslogd|^/sbin/syslog-ng|^rsyslogd|^syslogd|^/sbin/rsyslogd'
}



define servicedependency {
  name                             dependency_os_linux_default_ssh_controlmaster_uc_test_host_3
  host_name                        test_host_3
  service_description              os_linux_default_ssh_controlmaster
  execution_failure_criteria       u,c,p
  notification_failure_criteria    u,c
  dependent_service_description    os_linux_default_plugin_rollout,\
                                   os_linux_default_linux_version
}

define servicedependency {
  name                             dependency_os_linux_default_plugin_rollout_uc_test_host_3
  host_name                        test_host_3
  service_description              os_linux_default_plugin_rollout
  execution_failure_criteria       u,w,c,p
  notification_failure_criteria    u,c
  dependent_service_description    os_linux_.*,\
                                   !os_linux_default_linux_version,\
                                   !os_linux_default_plugin_rollout,\
                                   !os_linux_default_ssh_controlmaster
}

define service {
  service_description             os_linux_default_check_disks
  _SSHUSER                        mon

  _SSHPATHPREFIX                  .

  _SSHPORT                        22

  use                             os_linux_default
  host_name                       test_host_3
  check_command                   check_by_ssh!60!$_HOSTSSHPATHPREFIX$/lib/nagios/plugins/check_disk -w 5% -c 2% -e -A -l -x '/dev' -x '/dev/shm' -i '/boot' -x '/home' -i '/var/lib/docker' -i '/run/docker' -i '/data.*/docker.*' -i 'net:'
  check_interval                  30
}
