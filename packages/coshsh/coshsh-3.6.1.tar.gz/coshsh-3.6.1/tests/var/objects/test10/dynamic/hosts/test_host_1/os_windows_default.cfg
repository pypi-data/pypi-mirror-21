define service {
  service_description             os_windows_default_check_nsclient
  _NSCPORT                        secret

  _NSCPASSWORD                    secret

  host_name                       test_host_1
  use                             os_windows_default
  check_command                   check_nsc_web!30
}

define service {
  service_description             os_windows_default_windows_version
  _NSCPORT                        secret

  _NSCPASSWORD                    secret

  host_name                       test_host_1
  use                             os_windows_default
  normal_check_interval           240
  retry_check_interval            10
  max_check_attempts              2
  check_command                   check_nsc_web!30!check_os_version
}

define service {
  service_description             os_windows_default_check_uptime
  _NSCPORT                        secret

  _NSCPASSWORD                    secret

  host_name                       test_host_1
  use                             os_windows_default,srv-perf
  max_check_attempts              10
  check_command                   check_nsc_web!30!check_uptime 'warning=uptime<180s' 'critical=uptime<60s'
}

define servicedependency {
  name                             dependency_os_windows_default_check_nsclient_uc_test_host_1
  host_name                        test_host_1
  service_description              os_windows_default_check_nsclient
  execution_failure_criteria       u,c,p
  notification_failure_criteria    u,c
  dependent_service_description    os_windows_.*,\
                                   !os_windows_default_check_nsclient
}

define service {
  service_description             os_windows_default_check_uptime
  _NSCPORT                        secret

  _NSCPASSWORD                    secret

  host_name                       test_host_1
  use                             os_windows_default,srv-perf
  max_check_attempts              10
  check_command                   check_nsc_web!30!check_cpu 'filter=none' 'warning=load > 85' 'crit=load > 95'
}

define service {
  service_description             os_windows_default_check_cpu
  _NSCPORT                        secret

  _NSCPASSWORD                    secret

  host_name                       test_host_1
  use                             os_windows_default,srv-perf
  check_command                   check_nsc_web!30!check_memory 'filter=none' 'warning=free_pct < 10' 'crit=free_pct < 5'
}




define servicedependency {
  name                             dependency_os_windows_default_check_nsclient_uc_test_host_1
  host_name                        test_host_1
  service_description              os_windows_default_check_nsclient
  execution_failure_criteria       u,c,p
  notification_failure_criteria    u,c
  dependent_service_description    os_windows_.*,\
                                   !os_windows_default_check_nsclient
}
