{% extends "base.html" %}
{% load djblets_deco future i18n %}

{% block bodytag %}
 <body id="powerpack_reports_page">
{% endblock %}

{% block title %}{% trans "Reports" %}{% endblock %}

{% block css %}
{{block.super}}
{%  if extension.is_rb_17 %}
<link href="{{extension.htdocs_css.powerpack_reports}}" rel="stylesheet" type="text/css" />
{%  endif %}
{% endblock %}

{% block content %}
<div id="powerpack_reports_container">
{%  box "powerpack-reports" %}
 <ul id="powerpack_reports_sidebar">
  <li class="powerpack-reports-section">
   <div class="powerpack-reports-sidebar-row">
    <span class="label">Standard Reports</span>
   </div>
   <ul>
{%   for r in reports %}
    <li class="powerpack-report-item has-url{% if r.id == report.id %} active{% endif %}"
        onclick="javascript:window.location=&quot;{{r.url}}&quot;; return false;">
     <div class="powerpack-reports-sidebar-row">
      <a class="label" href="{{r.url}}"
         title="{{r.description}}">{{r.summary}}</a>
     </div>
    </li>
{%   endfor %}
   </ul>
  </li>
 </ul>
 <div id="powerpack_reports_main">
  <div class="box-head">
   <h1 class="title box-title">{% block report_title %}{% endblock %}</h1>
  </div>
  <div class="main box-main">
{%   block report_content %}{% endblock %}
  </div>
 </div>
{%  endbox "reports" %}
</div>
{% endblock %}

{% block scripts-post %}
{{block.super}}
{%  if extension.is_rb_17 %}
<script src="{{extension.htdocs_js.powerpack_reports}}"></script>
{%  endif %}

<script>
$(document).ready(function() {
    var pageView = new PowerPack.Reports.PageView({
        el: $('#powerpack_reports_container')
    });
    pageView.render();
});
</script>
{% endblock %}
