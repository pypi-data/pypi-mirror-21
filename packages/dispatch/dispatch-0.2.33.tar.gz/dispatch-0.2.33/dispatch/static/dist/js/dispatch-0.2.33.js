!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){function n(t){return E.hasOwnProperty(t)}function r(t,e){return E[t].hasOwnProperty("sub_routes")&&E[t].sub_routes.hasOwnProperty(e)}function o(t,e){var o=t.split(".");if(!n(o[0]))throw d(o[0]);if(o.length>1){if(!r(o[0],o[1]))throw h(o[0],o[1]);return E[o[0]].sub_routes[o[1]].actions.indexOf(e)!==-1}return E[o[0]].actions.indexOf(e)!==-1}function i(t,e){var n=t.split("."),r=E[n[0]].route;return"undefined"!=typeof e&&(r+="/"+e),n.length>1&&(r+="/"+n[1]),r}function u(t,e){return E[t].hasOwnProperty("helpers")&&E[t].helpers.hasOwnProperty(e)}function s(t){return l.api_url+t+"/?format="+l.api_format}function a(t){var e,n,r,o,i,u;if(n=null,document.cookie&&""!==document.cookie)for(r=document.cookie.split(";"),o=function(e){if(e=$.trim(e),e.substring(0,t.length+1)===t+"=")return n=decodeURIComponent(e.substring(t.length+1))},i=0,u=r.length;i<u;i++)e=r[i],o(e);return n}function c(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)}function f(t,e){var n=a("csrftoken");if(!c(e.type))return t.setRequestHeader("X-CSRFToken",n)}var p="0.2.33",l={base_url:"/",api_url:"/api/",api_format:"json"},E={article:{route:"articles",actions:["GET","POST","DELETE"],sub_routes:{comments:{actions:["GET"]},revision:{actions:["GET"]},rendered:{actions:["GET"]},publish:{actions:["GET"]},unpublish:{actions:["GET"]}}},page:{route:"pages",actions:["GET","POST","DELETE"],sub_routes:{revision:{actions:["GET"]},publish:{actions:["GET"]},unpublish:{actions:["GET"]}}},tag:{route:"tags",actions:["GET","POST","DELETE"]},topic:{route:"topics",actions:["GET","POST","DELETE"]},image:{route:"images",actions:["GET","POST","DELETE"],helpers:{POST:"upload"}},attachment:{route:"attachments"},gallery:{route:"galleries",actions:["GET","POST","DELETE"]},person:{route:"people",actions:["GET","POST","DELETE"]},comment:{route:"comments",actions:["GET","POST","DELETE"]},section:{route:"sections",actions:["GET","POST","DELETE"]},template:{route:"templates",actions:["GET"]}},T=function(t){return"InvalidActionError: That action can't be performed on the "+t+" model."},d=function(t){return'InvalidModelError: "'+t+"\" isn't a valid model."},h=function(t,e){return'InvalidModelError: "'+e+"\" isn't a sub-route of "+t+"."},m={version:p,settings:l,getModelHelper:function(t,e){return m[E[t].helpers[e]]},getModelURL:function(t){if(!n(t))throw d(t);return m.settings.api_url+i(t)+"/"},add:function(t,e,n){if(!o(t,"POST"))throw T(t);return u(t,"POST")?m.getModelHelper(t,"POST")(i(t),e,n):m.post(i(t),e,n)},update:function(t,e,n,r){if(!o(t,"POST"))throw T(t);return m.patch(i(t,e),n,r)},remove:function(t,e,n){if(!o(t,"DELETE"))throw T(t);return m.delete(i(t,e),n)},publish:function(t,e,n){if(t+=".publish",!o(t,"GET"))throw T(t);return m.get(i(t,e),{},n)},unpublish:function(t,e,n){if(t+=".unpublish",!o(t,"GET"))throw T(t);return m.get(i(t,e),{},n)},bulkRemove:function(t,e,n){if(!o(t,"DELETE"))throw T(t);var r=t+".delete",u={ids:e.join()};return m.post(i(r),u,n)},list:function(t,e){if(!o(t,"GET"))throw T(t);return m.get(i(t),{},e)},search:function(t,e,n){if(!o(t,"GET"))throw T(t);return m.get(i(t),e,n)},find:function(t,e,n,r){if(!o(t,"GET"))throw T(t);return m.get(i(t,e),n,r)},article:function(t,e,n){return m.get(i("article",t),e,n)},articleComments:function(t,e){var n="article.comments";if(!o(n,"GET"))throw T(n);return m.get(i(n,t),{},e)},articleRendered:function(t,e){var n="article.rendered";if(!o(n,"GET"))throw T(n);return m.get(i(n,t),{},e)},postComment:function(t,e,n){var r={article_id:t,content:e};return m.add("comment",r,n)},revision:function(t,e,n,r){var t=t+".revision";if(!o(t,"GET"))throw T(t);return m.get(i(t,e),{revision_id:n},r)},components:function(t,e){var n="components/"+t;return m.get(n,{},e)},saveComponent:function(t,e,n,r,o){var i="components/"+t,u={spot:n,component:e,fields:r};return m.post(i,u,o)},post:function(t,e,n){return $.ajax({type:"POST",beforeSend:f,url:s(t),data:e,success:n})},get:function(t,e,n){return $.ajax({type:"GET",beforeSend:f,url:s(t),data:e,success:n})},patch:function(t,e,n){return $.ajax({type:"PATCH",beforeSend:f,data:e,url:s(t),success:n})},delete:function(t,e){return $.ajax({type:"DELETE",beforeSend:f,url:s(t),success:e})},getNext:function(t,e){return $.ajax({type:"GET",beforeSend:f,url:t,success:e})},upload:function(t,e,n){return $.ajax({url:s(t),type:"POST",beforeSend:f,data:e,cache:!1,dataType:"json",processData:!1,contentType:!1,success:n})},getCSRFToken:function(){return a("csrftoken")}};window.dispatch=t.exports=m}]);