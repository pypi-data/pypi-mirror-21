{# Шаблон Underscore #}

<form class="form-inline" data-filter_index="<%= index %>">

     <% /* Поле фильтра */ %>
    <div class="form-group">
        <select data-action="filter_change_field" data-id="<%= data.id %>"
            <% if (item.active) { %>disabled<% } %>
            data-filter_index="<%= index %>" class="form-control">
            <option <% if (is_new) { %>selected<% } %> value="">&lt;Выберите поле&gt;</option>
        <% _.each(data.meta.filters, function(filter) { %>
            <option <% if (item.field == filter.field) { %>selected<% } %> value="<%= filter.field %>"><%= filter.field_title %></option>
        <% }); %>
        </select>
    </div>

    <% /* Тип фильтра */ %>
    <div class="form-group">
        <select data-action="filter_change_type" data-id="<%= data.id %>"
            <% if (item.active) { %> disabled<% } %>
            data-filter_index="<%= index %>"
            class="form-control">
            <option <% if (is_new) { %>selected<% } %> value="">&lt;Выберите условие&gt;</option>
        <% _.each(FILTER_TYPES, function(type, i) { %>
            <option <% if (item.type == type[0]) { %> selected<% } %> value="<%= type[0] %>">
                <%= type[1] %>
            </option>
        <% }); %>
        </select>
    </div>

    <% /* Значения фильтра */ %>
    <div class="form-group" data-place="filter_values" data-filter_index="<%= index %>">
        <%= item.values_html || '' %>
    </div>

    <% /* Кнопки фильтра */ %>
    <div class="form-group pull-right">
        <div class="btn-group">
            <% /* Активность фильтра */ %>
            <button
                class="btn btn-default <% if (item.active) { %>active<% } %>"
                data-toggle="button"
                data-action="filter_change_active"
                data-filter_index="<%= index %>"
                data-id="<%= data.id %>"
                <% if (is_new) { %>disabled<% } %>
                title="Активный">
                <i class="fa fa-check"></i>
            </button>

            <% /* Инверсия фильтра */ %>
            <button
                class="btn btn-default <% if (item.inverse) { %>active<% } %>"
                data-toggle="button"
                data-action="filter_change_inverse"
                data-filter_index="<%= index %>"
                data-id="<%= data.id %>"
                <% if (is_new) { %>disabled<% } %>
                title="Инверсия">
                <i class="fa fa-random"></i>
            </button>

            <% /* Удаление фильтра */ %>
            <button
                class="btn btn-default"
                data-action="filter_remove" 
                data-id="<%= data.id %>"
                data-filter_index="<%= index %>"
                title="Удалить фильтр">
                <i class="fa fa-remove"></i>
            </button>
        </div><!-- /.btn-group -->
    </div><!-- /.form-group -->


</form>

